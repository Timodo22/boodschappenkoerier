<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <!-- Titel -->
  <title>Boodschappenkoerier | Bestelformulier ‚Äì Plaats je Duitse boodschappen</title>

  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.boodschappenkoerier.nl/form.html">

  <!-- Favicon & Apple Touch Icon -->
  <link rel="icon" type="image/png" href="logo.png">
  <link rel="shortcut icon" type="image/png" href="logo.png">
  <link rel="apple-touch-icon" href="logo.png">

  <!-- Theme color voor Android, Windows & iOS Safari -->
  <meta name="theme-color" content="#4a90e2">
  <meta name="msapplication-TileColor" content="#4a90e2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- SEO Meta -->
  <meta name="description" content="Vul hier je bestelformulier in voor voordelige Duitse boodschappen met De Boodschappenkoerier. Bespaar tot 80% en laat snel bezorgen.">
  <meta name="keywords" content="bestelformulier, Duitse boodschappen bestellen, goedkope boodschappen, Boodschappenkoerier">
  <meta name="author" content="De Boodschappenkoerier">

  <!-- Open Graph / Facebook -->
  <meta property="og:type"        content="website">
  <meta property="og:url"         content="https://www.boodschappenkoerier.nl/form.html">
  <meta property="og:title"       content="Bestelformulier | Boodschappenkoerier">
  <meta property="og:description" content="Vul het formulier in en bestel voordelige Duitse boodschappen met De Boodschappenkoerier.">
  <meta property="og:image"       content="https://www.boodschappenkoerier.nl/logo.png">

  <!-- Twitter Card -->
  <meta name="twitter:card"        content="summary_large_image">
  <meta name="twitter:url"         content="https://www.boodschappenkoerier.nl/form.html">
  <meta name="twitter:title"       content="Bestelformulier | Boodschappenkoerier">
  <meta name="twitter:description" content="Plaats je bestelling voor goedkope Duitse boodschappen via De Boodschappenkoerier.">
  <meta name="twitter:image"       content="https://www.boodschappenkoerier.nl/logo.png">

     <link rel="stylesheet" href="css/bootstrap.min.css">
     <link rel="stylesheet" href="css/font-awesome.min.css">
     <link rel="stylesheet" href="css/aos.css">
     <link rel="stylesheet" href="css/owl.carousel.min.css">
     <link rel="stylesheet" href="css/owl.theme.default.min.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

     <!-- MAIN CSS -->
     <link rel="stylesheet" href="css/templatemo-digital-trend.css">

</head>

<!-- Bevestigings-modal -->
<div id="confirmModal" class="modal-overlay">
  <div class="modal-content">
    <p>‚ö†Ô∏è Pas op! Weet je zeker dat je beide winkels dezelfde datum hebt ingevuld?</p>
    <button type="button" id="confirmYes">Bevestigen</button>
    <button type="button" id="confirmNo">Annuleren</button>
  </div>
</div>

<style>
  /* Modal overlay */
.modal-overlay {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

/* Modal content */
.modal-content {
  background: #fff;
  padding: 2rem;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  max-width: 400px;
  text-align: center;
}
.modal-content p {
  margin-bottom: 1.5rem;
  font-size: 1.1rem;
  color: #155724;
}
.modal-content button {
  margin: 0 0.5rem;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
#confirmYes {
  background-color: #25D366;
  color: #fff;
}
#confirmNo {
  background-color: #6c757d;
  color: #fff;
}

</style>


<body>

     <!-- MENU BAR -->
<!-- MENU BAR -->
<nav class="navbar navbar-expand-lg">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="logo.png" alt="Boodschappenkoerier logo" class="logo-img d-inline-block align-top"/>
      <span class="brand-text">De boodschappen koerier</span>
    </a>
    <!-- rest van je navbar -->

<style>
  /* Standaard op grote schermen */
.logo-img {
  padding-top: 20px;
  max-height: 190px;
  width: auto;
}
/* In je bestaande <style> of templatemo-digital-trend.css */
.navbar-brand {
  display: flex;
  align-items: center;
}

.brand-text {
  padding-top: 15px;
  margin-left: 0.5rem;    /* Ruimte tussen logo en tekst */
  font-size: 1rem;        /* Tekstgrootte ‚Äì pas aan naar wens */
  color: #2D7A2D;         /* Merk- of accentkleur */
  font-weight: 900;       /* Bold */
  white-space: nowrap;    /* Voorkomt afbreken van de tekst */
}



/* Tablets en kleine desktops */
@media (max-width: 992px) {
  .logo-img {
    max-height: 90px;
  }
}

/* Mobiel (smaller than Bootstrap's "md" breakpoint) */
@media (max-width: 768px) {
  .logo-img {
    max-height: 70px;
  }
}

/* Extra klein mobiel */
@media (max-width: 576px) {
  .logo-img {
    max-height: 100px;
  }
}

</style>

<style>
    /* Contact formulier styling */
    .contact-section {
      padding: 100px 0;
      background: #f8f9fa;
    }
    .contact-card {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      padding: 3rem;
      max-width: 600px;
      margin: auto;
    }
    .contact-card h2 {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 1rem;
      font-weight: 700;
      text-align: center;
    }
    .form-group label {
      font-weight: 600;
      color: var(--text-dark);
    }
    .form-control {
      border-radius: 8px;
      padding: 0.75rem 1rem;
      border: 1px solid #ddd;
      transition: var(--transition);
    }
    .form-control:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 8px rgba(37,211,102,0.3);
    }
    .btn-submit {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 0.75rem;
      font-size: 1.1rem;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(135deg, #25D366, #20b558);
      border: none;
      border-radius: 50px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(37,211,102,0.6);
    }

    /* Formulier feedback styling */
    .form-feedback {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      font-weight: 600;
      text-align: center;
      display: none;
    }
    .form-feedback.success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .form-feedback.error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    .form-feedback.loading {
      background-color: #e2e3e5;
      color: #495057;
      border: 1px solid #d6d8db;
    }

    /* Spinner voor loading state */
    .spinner {
      border: 2px solid #f3f3f3;
      border-top: 2px solid #25D366;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
      display: inline-block;
      margin-right: 10px;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    </style>


            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link smoothScroll">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="aboutus.html" class="nav-link smoothScroll">Over ons</a>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


     <!-- HERO -->
<style>
/* Verbeterde stijl voor bestelformulier */
.order-section {
  background: #ffffff;
  padding: 4rem 2rem;
  border-radius: 1rem;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  font-family: 'Roboto', sans-serif;
}
.order-section h2 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 900;
  font-size: 2.5rem;
  color: #2D7A2D;
  text-align: center;
  margin-bottom: 2.5rem;
  line-height: 1.2;
}
.order-section label {
  font-weight: 600;
  color: #333333;
}
.order-section .form-control {
  border-radius: 0.75rem;
  border: 1px solid #cccccc;
  padding: 0.75rem 1rem;
  transition: border-color 0.3s ease;
}
.order-section .form-control:focus {
  border-color: #25D366;
  box-shadow: none;
}
.order-section .form-check-input {
  margin-right: 0.75rem;
}
.order-section fieldset {
  border: 1px solid #eaeaea;
  border-radius: 0.75rem;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  background: #f8f9fa;
}
.order-section fieldset legend {
  font-weight: 700;
  color: #2D7A2D;
  padding: 0 0.5rem;
  width: auto;
  font-size: 1.1rem;
}
.order-section .btn-primary {
  background: #25D366;
  border: none;
  border-radius: 2rem;
  padding: 0.75rem 2rem;
  font-weight: 700;
  font-size: 1.05rem;
  transition: background 0.3s ease;
}
.order-section .btn-primary:hover {
  background: #20b558;
}
.order-section .btn-primary:disabled {
  background: #6c757d;
  cursor: not-allowed;
}
.order-section .cost-checkbox {
  display: flex;
  align-items: center;
  font-size: 0.95rem;
  color: #555555;
}
.order-section .cost-checkbox input {
  margin-right: 0.5rem;
}

/* Responsive titelformaat */
@media (max-width: 992px) {
  .order-section h2 {
    font-size: 2.25rem;
  }
}
@media (max-width: 768px) {
  .order-section h2 {
    font-size: 2rem;
  }
}
@media (max-width: 576px) {
  .order-section h2 {
    font-size: 1.75rem;
  }
}

@media (min-width: 768px) {
  .order-section .form-row > .col-md-6 {
    display: flex;
    flex-direction: column;
    padding-right: 1rem;
  }
}
</style>

<!-- BAG-INFO SECTION -->
<section class="bag-info-section">
  <div class="container text-center">
    <img src="Boodschappentas.png" alt="Boodschappentas" class="bag-info-img"/>
    <h2>Hoe schat ik in hoeveel liter ik heb?</h2>
    <p>Wist je dat een gemiddelde boodschappentas maar liefst <strong>60 liter</strong> inhoud heeft? 
       Perfect om al je boodschappen in √©√©n keer thuis te laten bezorgen.</p>
  </div>
</section>

<style>
  .bag-info-section {
  padding: 4rem 2rem;
  background-color: #f8f9fa;
}

.bag-info-section .bag-info-img {
  max-width: 180px;
  width: auto;
  margin-bottom: 1.5rem;
}

.bag-info-section h2 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  font-size: 2rem;
  color: #2D7A2D;
  margin-bottom: 0.75rem;
}

.bag-info-section p {
  font-family: 'Roboto', sans-serif;
  font-size: 1.1rem;
  color: #555555;
  line-height: 1.5;
}

</style>

<section class="order-section" id="order-form">
  <div class="container">
    <h2>Bestelformulier</h2>
    <form id="boodschappenForm" method="POST">
      <input type="hidden" name="form_name" value="boodschappen_bestelling" />

      <!-- Persoonsgegevens -->
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="name">Naam *</label>
          <input type="text" id="name" name="name" class="form-control" placeholder="Bijv. Jan Janssen" required />
        </div>
        <div class="col-md-6 mb-3">
          <label for="email">E-mail *</label>
          <input type="email" id="email" name="email" class="form-control" placeholder="naam@voorbeeld.nl" required />
        </div>
      </div>
      <div class="form-row">
        <div class="col-md-6 mb-3">
          <label for="phone">Telefoonnummer *</label>
          <input type="tel" id="phone" name="phone" class="form-control" placeholder="06-12345678" required />
        </div>
      </div>

      <!-- Bestelinformatie -->
<fieldset>
  <legend>Winkelselectie *</legend>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="retailers[]" id="retailrewe" value="rewe">
    <label class="form-check-label" for="retailrewe">rewe</label>
  </div>
  <div class="form-check">
    <input class="form-check-input" type="checkbox" name="retailers[]" id="retailDM" value="DM">
    <label class="form-check-label" for="retailDM">DM</label>
  </div>
</fieldset>


<div id="retailer-details">
  <!-- rewe details -->
  <div class="retailer-section" id="details-rewe" style="display:none; margin-top:1rem;">
    <h5>rewe</h5>
    <div class="mb-3">
      <label for="order_number_rewe">Ordernummer rewe *</label>
      <input type="text" id="order_number_rewe" name="order_number_rewe" class="form-control" required />
    </div>
    <fieldset class="mb-3">
      <legend>Afhaalmoment rewe *</legend>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="pickup_day_rewe" id="pickupMon_rewe" value="Maandag ochtend (09:00‚Äì11:00)" required>
        <label class="form-check-label" for="pickupMon_rewe">Maandagochtend (09:00‚Äì12:00)</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="pickup_day_rewe" id="pickupWed_rewe" value="Woensdag (10:00)">
        <label class="form-check-label" for="pickupWed_rewe">Woensdag (09:00‚Äì12:00)</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="pickup_day_rewe" id="pickupFri_rewe" value="Vrijdagochtend (09:00‚Äì11:00)">
        <label class="form-check-label" for="pickupFri_rewe">Vrijdagochtend (09:00‚Äì12:00)</label>
      </div>
      <small class="form-text text-muted">We halen de producten rond 10:00 uur op.</small>
    </fieldset>
  <div class="form-check mb-3">
    <input 
      class="form-check-input" 
      type="checkbox" 
      id="email_confirmation_rewe" 
      name="email_confirmation_rewe" 
      required
    />
    <label class="form-check-label" for="email_confirmation_rewe">
      Ik bevestig dat ik bij het bestellen van mijn rewe-boodschappen het e-mailadres 
      <code>bestellijst@boodschappenkoerier.nl</code> heb gebruikt *
    </label>
  </div>

  </div>

  <!-- DM details -->
  <div class="retailer-section" id="details-DM" style="display:none; margin-top:1rem;">
    <h5>DM</h5>
    <div class="mb-3">
      <label for="order_number_DM">Ordernummer DM *</label>
      <input type="text" id="order_number_DM" name="order_number_DM" class="form-control" required />
    </div>
    <fieldset class="mb-3">
      <legend>Afhaalmoment DM *</legend>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="pickup_day_DM" id="pickupMon_DM" value="Maandag ochtend (09:00‚Äì11:00)" required>
        <label class="form-check-label" for="pickupMon_DM">Maandagochtend (09:00‚Äì12:00)</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="pickup_day_DM" id="pickupWed_DM" value="Woensdag (10:00)">
        <label class="form-check-label" for="pickupWed_DM">Woensdag (09:00‚Äì12:00)</label>
      </div>
      <div class="form-check">
        <input class="form-check-input" type="radio" name="pickup_day_DM" id="pickupFri_DM" value="Vrijdagochtend (09:00‚Äì11:00)">
        <label class="form-check-label" for="pickupFri_DM">Vrijdagochtend (09:00‚Äì12:00)</label>
      </div>
      <small class="form-text text-muted">We halen de producten rond 10:00 uur op.</small>
    </fieldset>
  </div>
</div>


      <fieldset>
        <legend>Aantal kratten *</legend>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="crate_option" id="crateLess10" value="less_than_10" checked>
          <label class="form-check-label" for="crateLess10">Minder dan 10 kratten</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="radio" name="crate_option" id="crate10plus" value="10_or_more">
          <label class="form-check-label" for="crate10plus">10 kratten of meer</label>
        </div>
        <label for="crate_count">Geef een schatting van de kratten voor een schatting van de kosten *</label>
        <input type="number" id="crate_count" name="crate_count" class="form-control mb-3" min="1" value="1" required />
      </fieldset>


      <!-- Bezorgadres -->
      <fieldset>
        <legend>Bezorgadres</legend>
        <div class="form-row">
          <div class="col-md-6 mb-3">
            <label for="street">Straat + Huisnummer *</label>
            <input type="text" id="street" name="street" class="form-control" placeholder="Bijv. Kerkstraat 12" required />
          </div>
          <div class="col-md-3 mb-3">
            <label for="postal_code">Postcode *</label>
            <input type="text" id="postal_code" name="postal_code" class="form-control" placeholder="Bijv. 1234 AB" required />
          </div>
          <div class="col-md-3 mb-3">
            <label for="city">Plaats *</label>
            <input type="text" id="city" name="city" class="form-control" placeholder="Bijv. Amsterdam" required />
          </div>
        </div>
        <div class="mb-3">
          <label for="instructions">Extra instructies (optioneel)</label>
          <textarea id="instructions" name="extra_instructions" rows="3" class="form-control" placeholder="Bijv. Bel aan bij voordeur"></textarea>
        </div>
      </fieldset>

      <!-- Bezorgkosten -->
      <div class="mb-4 cost-checkbox">
        <input type="checkbox" id="costAgree" checked disabled>
        <label for="costAgree">Bezorgkosten: ‚Ç¨22,50 + ‚Ç¨6,50 per extra krat</span></label>
        <input type="hidden" name="delivery_cost" id="deliveryCost" value="22.50" />
      </div>

      <div class="text-center">
        <button type="submit" class="btn btn-primary" id="submitBtn">
          <span id="submitText">Bestelling Verzenden</span>
          <span id="submitSpinner" class="spinner" style="display: none;"></span>
        </button>
      </div>

      <!-- Feedback berichten -->
      <div id="formFeedback" class="form-feedback"></div>
    </form>
  </div>
</section>




<script>
  let retailConfirmation = false;
  const confirmModal = document.getElementById('confirmModal');
  const confirmYes   = document.getElementById('confirmYes');
  const confirmNo    = document.getElementById('confirmNo');

  function showConfirmModal() {
    confirmModal.style.display = 'flex';
  }
  function hideConfirmModal() {
    confirmModal.style.display = 'none';
  }

  confirmYes.addEventListener('click', () => {
    retailConfirmation = true;
    hideConfirmModal();
    document.getElementById('boodschappenForm')
            .dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));
  });
  confirmNo.addEventListener('click', () => {
    retailConfirmation = false;
    hideConfirmModal();
  });

  // Winkel-selectie & detail-weergave
  const retailerCheckboxes = document.querySelectorAll('input[name="retailers[]"]');
  retailerCheckboxes.forEach(cb => {
    cb.addEventListener('change', () => {
      const detail = document.getElementById(`details-${cb.value}`);
      if (!detail) return;
      detail.style.display = cb.checked ? 'block' : 'none';
      detail.querySelectorAll('input').forEach(input => {
        input.disabled = !cb.checked;
        if (input.hasAttribute('required')) {
          if (cb.checked) input.setAttribute('required','required');
          else            input.removeAttribute('required');
        }
      });
    });
    cb.dispatchEvent(new Event('change'));
  });

  // Sync pickup-dagen
  function syncPickup(fromName, toName) {
    document.querySelectorAll(`input[name="${fromName}"]`).forEach(radioA => {
      radioA.addEventListener('change', () => {
        const selValue = radioA.value;
        const radioB = document.querySelector(`input[name="${toName}"][value="${selValue}"]`);
        if (radioB) radioB.checked = true;
      });
    });
  }
  function setupSync() {
    const reweCb = document.getElementById('retailrewe');
    const dmCb    = document.getElementById('retailDM');
    [reweCb, dmCb].forEach(cb => {
      cb.addEventListener('change', () => {
        if (reweCb.checked && dmCb.checked) {
          syncPickup('pickup_day_rewe','pickup_day_DM');
          syncPickup('pickup_day_DM','pickup_day_rewe');
        }
      });
    });
  }
  document.addEventListener('DOMContentLoaded', setupSync);

  // Bezorgkosten dynamic
  const crateInput = document.getElementById('crate_count');
  crateInput.addEventListener('input', () => {
    let count = parseInt(crateInput.value,10) || 1;
    count = Math.max(count,1);
    const cost = 22.50 + (count-1)*6.50;
    document.getElementById('deliveryCost').value = cost.toFixed(2);
    document.getElementById('costDisplay').textContent = cost.toFixed(2).replace('.',',');
  });

  // Feedback helper
  function showFeedback(msg,type,html=false) {
    const fb = document.getElementById('formFeedback');
    fb.className = `form-feedback ${type}`;
    fb.style.display = 'block';
    if(html) fb.innerHTML = msg; else fb.textContent = msg;
  }

  // Email content builder
  function createDutchEmailContent(fd) {
    const now = new Date();
    const dateNL = now.toLocaleDateString('nl-NL',{year:'numeric',month:'long',day:'numeric'}) + ' om ' + now.toLocaleTimeString('nl-NL',{hour:'2-digit',minute:'2-digit'});
    const cost = parseFloat(fd.get('delivery_cost')).toFixed(2).replace('.',',');

    const winkelLines = fd.getAll('retailers[]').map(r => {
      return `üè™ ${r}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Ordernummer: ${fd.get(`order_number_${r}`)}
Afhaalmoment: ${fd.get(`pickup_day_${r}`)}`;
    }).join('\n\n');

    const instr = fd.get('extra_instructions') || '-';

    return `
üõí NIEUWE BOODSCHAPPENBESTELLING
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üìÖ Besteldatum: ${dateNL}

üë§ KLANTGEGEVENS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Naam: ${fd.get('name')}
E-mail: ${fd.get('email')}
Telefoon: ${fd.get('phone')}

üè¨ BESTELDETAILS PER WINKEL
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${winkelLines}

üöö BEZORGADRES
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${fd.get('street')}
${fd.get('postal_code')} ${fd.get('city')}

üìù Extra instructies: ${instr}

üí∞ KOSTEN
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Bezorgkosten (schatting): ‚Ç¨${cost}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Automatisch verzonden via spectux.com
`.trim();
  }

  // Form submission met postcode-validatie
  document.getElementById('boodschappenForm').addEventListener('submit', async e => {
    // 1) Bevestiging bij 2 winkels
    const selected = Array.from(document.querySelectorAll('input[name="retailers[]"]:checked'));
    if(selected.length===2 && !retailConfirmation){
      e.preventDefault();
      showFeedback('','');
      showConfirmModal();
      return;
    }
    e.preventDefault();
    retailConfirmation = false;

    // 2) Basisvalidatie: minimaal √©√©n winkel
    const tempFd = new FormData(e.target);
    if(tempFd.getAll('retailers[]').length===0){
      showFeedback('‚ùå Kies minimaal √©√©n winkel.','error');
      return;
    }

    // 3) Postcode-validatie
    const allowedRanges = [
      [5701,5709],[5211,5237],[5011,5049],[5280,5283],[5460,5467],
      [5400,5409],[5340,5349],[5140,5146],[5060,5066],[5680,5685],
      [5500,5509],[5550,5556],[5660,5667],[5670,5674],[5520,5529],
      [5540,5541],[5570,5575],[5690,5694]
    ];
    const rawPc = tempFd.get('postal_code').toUpperCase().replace(/\s+/g,'');
    const m = rawPc.match(/^(\d{4})[A-Z]{2}$/);
    if(!m){ showFeedback('‚ùå Ongeldig postcodeformaat. Gebruik bijv. ‚Äú1234 AB‚Äù.','error'); return; }
    const code = parseInt(m[1],10);
    const inAllowed = allowedRanges.some(([min,max]) => code>=min && code<=max);
    if(!inAllowed){ showFeedback('‚ùå Uw postcode valt buiten ons bezorggebied.','error'); return; }

    // 4) Loading-state & verzenden
    const btn = document.getElementById('submitBtn');
    const txt = document.getElementById('submitText');
    const spn = document.getElementById('submitSpinner');
    btn.disabled=true; txt.textContent='Bezig met verzenden...'; spn.style.display='inline-block';
    showFeedback('<div class="spinner"></div>Uw bestelling wordt verzonden...','loading',true);
    try {
      const fd = new FormData();
      fd.append('access_key','e99bcbd8-4995-4b2a-aca7-ed6bc4f8dcb0');
      fd.append('subject',`üõí Nieuwe bestelling - ${tempFd.get('name')}`);
      fd.append('from_name','Boodschappenkoerier Website');
      fd.append('message',createDutchEmailContent(tempFd));
      const to=[];
      if(to.length===0) to.push('info@boodschappenkoerier.nl');
      fd.append('to',to.join(','));
      const res = await fetch('https://api.web3forms.com/submit',{method:'POST',body:fd});
      const result = await res.json();
      if(result.success){
        showFeedback('‚úÖ <strong>Bestelling succesvol verzonden!</strong><br>We nemen zo snel mogelijk contact met u op.','success',true);
        e.target.reset();
        retailerCheckboxes.forEach(cb => {
          const det=document.getElementById(`details-${cb.value}`);
          if(det) det.style.display='none';
        });
      } else {
        throw new Error(result.message||'Onbekende fout');
      }
    } catch(err) {
      console.error(err);
      showFeedback('‚ùå <strong>Er is iets misgegaan!</strong><br>Probeer het nogmaals.','error',true);
    } finally {
      btn.disabled=false; txt.textContent='Bestelling Verzenden'; spn.style.display='none';
    }
  });
  </script>

  <script>
    AOS.init({ duration: 800, once: true });
  </script>





</script>





    <footer class="site-footer">
      <div class="container">
        <div class="row">

          <div class="col-lg-5 mx-lg-auto col-md-8 col-10">
            <h1 class="text-white" data-aos="fade-up" data-aos-delay="100">Voor al uw <strong>goedkope</strong> boodschappen.</h1>
          </div>

          <div class="col-lg-3 col-md-6 col-12" data-aos="fade-up" data-aos-delay="200">
            <h4 class="my-4">Contact Info</h4>

            <p class="mb-1">
              <i class="fa fa-phone mr-2 footer-icon"></i> 
              +31 6 17239470
            </p>

<p>
  <a href="mailto:info@boodschappenkoerier.nl"
     class="d-inline-flex align-items-center">
    <i class="fa fa-envelope mr-2 footer-icon"></i>
    info@boodschappenkoerier.nl
  </a>
</p>

          </div>

          <div class="col-lg-3 col-md-6 col-12" data-aos="fade-up" data-aos-delay="300">
            <h4 class="my-4">Locatie</h4>

            <p class="mb-1">
              <i class="fa fa-home mr-2 footer-icon"></i> 
              Nederland
            </p>
          </div>



          <div class="col-lg-4 mx-lg-auto col-md-6 col-12" data-aos="fade-up" data-aos-delay="500">
            
            <ul class="footer-link">
              <li><a href="#"></a></li>
              <li><a href="#"></a></li>
              <li><a href="#"></a></li>
            </ul>
          </div>

                    <div class="col-lg-4 mx-lg-auto text-center col-md-8 col-12" data-aos="fade-up" data-aos-delay="400">
            <p class="copyright-text">Copyright &copy; 2025 De boodschappenkoerier
            <br>
            <a rel="nofollow noopener" href="https://spectux.com">Powered by Spectux</a></p>
          </div>

          <div class="col-lg-3 mx-lg-auto col-md-6 col-12" data-aos="fade-up" data-aos-delay="600">
            <ul class="social-icon">
              <li><a href="#" class="fa fa-instagram"></a></li>
              <li><a href="#" class="fa fa-twitter"></a></li>
              <li><a href="#" class="fa fa-dribbble"></a></li>
              <li><a href="#" class="fa fa-behance"></a></li>
            </ul>
          </div>

        </div>
      </div>
    </footer>

<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/aos.js"></script>
<script>
  AOS.init({ duration: 800, once: true });
</script>

</body>
</html>